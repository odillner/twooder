(this.webpackJsonptwooder=this.webpackJsonptwooder||[]).push([[0],{53:function(e,t,n){e.exports=n(84)},84:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(17),o=n.n(c),u=n(4),i=n(8),s=n(3),l=n(23),p=n(1);function f(){var e=Object(l.a)(['\n  display: inline-block;\n  width: 16px;\n  height: 16px;\n  margin-left: -1px;\n  margin-top: -1px;\n  transform: rotateZ(45deg);\n  position: relative;\n  :before,\n  :after {\n    content: "";\n    position: absolute;\n    background: ',";\n  }\n  :before {\n    height: 100%;\n    width: 3px;\n    left: 50%;\n    transform: translateX(-50%);\n  }\n  :after {\n    height: 3px;\n    width: 100%;\n    left: 0;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n"]);return f=function(){return e},e}var d=p.d.div(f(),(function(e){return e.theme.materialText})),m=function(e){var t=e.onClose;return a.a.createElement(s.b,{style:{float:"right",margin:"3px"},onClick:function(){return t()}},a.a.createElement(d,null))},v=n(2),b=n.n(v),E=n(5),w=function(e,t){return function(){var n=Object(E.a)(b.a.mark((function n(r){var a;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r({type:"RESET_NOTIFICATION"}),a=setTimeout((function(){r({type:"RESET_NOTIFICATION"})}),1e3*t),r({type:"DISPLAY_INFO",data:{message:e,timeout:a}});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},h=function(e,t){return function(){var n=Object(E.a)(b.a.mark((function n(r){var a;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r({type:"RESET_NOTIFICATION"}),a=setTimeout((function(){r({type:"RESET_NOTIFICATION"})}),1e3*t),r({type:"DISPLAY_ERROR",data:{message:e,timeout:a}});case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DISPLAY_INFO":var n={type:"Notification",message:t.data.message,timeout:t.data.timeout};return n;case"DISPLAY_ERROR":var r={type:"Error",message:t.data.message,timeout:t.data.timeout};return r;case"RESET_NOTIFICATION":return e&&clearTimeout(e.timeout),null;default:return e}},g=function(){var e=Object(u.c)((function(e){return e.notification})),t=Object(u.b)();if(null===e)return null;var n="Error"===e.type?{backgroundColor:"red"}:null;return a.a.createElement(s.p,{className:"window",style:{position:"absolute",left:"80%",width:"20%"}},a.a.createElement(s.r,{className:"window-header",style:n},a.a.createElement("span",null,e.type),a.a.createElement(m,{onClose:function(){return t({type:"RESET_NOTIFICATION"})}})),a.a.createElement(s.q,null,e.message))},y=n(16),j=n(10),k=n(7),x=n.n(k),S="http://localhost:3004/",I=function(){},T=function(){},N=(S="/")+"api/login/",C={auth:function(){var e=Object(E.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I("api/login/","Authenticating user:",t),e.next=4,x.a.post(N,t);case 4:return n=e.sent,I("api/login/","User authenticated",n),e.abrupt("return",n.data);case 9:throw e.prev=9,e.t0=e.catch(0),T("api/login/",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},R=S+"api/users/",_={getAll:function(){var e=Object(E.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I("api/users/","Fetching users"),e.next=4,x.a.get(R);case 4:return t=e.sent,I("api/users/","Users fetched",t),e.abrupt("return",t.data);case 9:throw e.prev=9,e.t0=e.catch(0),T("api/users/",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(E.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I("api/users/","Creating user",t),e.next=4,x.a.post(R,t);case 4:return n=e.sent,I("api/users/","User created",n),e.abrupt("return",n.data);case 9:throw e.prev=9,e.t0=e.catch(0),T("api/users/",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),getById:function(){var e=Object(E.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I("api/users/","Fetching user",t),e.next=4,x.a.get(R+t);case 4:return n=e.sent,I("api/users/","User fetched",n),e.abrupt("return",n.data);case 9:throw e.prev=9,e.t0=e.catch(0),T("api/users/",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(E.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I("api/users/","Deleting user",t),e.next=4,x.a.delete(R+t);case 4:return n=e.sent,I("api/users/","User deleted",n),e.abrupt("return",n.data);case 9:throw e.prev=9,e.t0=e.catch(0),T("api/users/",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(E.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I("api/users/","Updating user",t,n),e.next=4,x.a.put("".concat(R).concat(t),n);case 4:return r=e.sent,I("api/users/","User updated",r),e.abrupt("return",r.data);case 9:throw e.prev=9,e.t0=e.catch(0),T("api/users/",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()},D={current:0,items:[]},A=function(e,t){return{type:"ADD_WINDOW",data:{type:e,initialState:t,id:Math.floor(1e4*Math.random())}}},W=function(e){return{type:"CLOSE_WINDOW",data:e}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_WINDOW":var n={current:t.data.id,items:e.items.concat(t.data)};return n;case"CLOSE_WINDOW":var r=Object(j.a)(Object(j.a)({},e),{},{items:e.items.filter((function(e){return e.id!=t.data}))});return r;case"SET_CURRENT_WINDOW":var a=Object(j.a)(Object(j.a)({},e),{},{current:t.data});return a;case"RESET_CURRENT_WINDOW":var c=Object(j.a)(Object(j.a)({},e),{},{current:null});return c;case"RESET_WINDOWS":return[];default:return e}},F={user:null,token:null,storageChecked:!1},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_SESSION":return Object(j.a)(Object(j.a)({},t.data),{},{storageChecked:!0});case"RESET_SESSION":return Object(j.a)(Object(j.a)({},F),{},{storageChecked:!0});default:return e}},z=function(e){var t=e.setOpen;return a.a.createElement(s.e,{style:{position:"absolute",left:"0",top:"100%"},onClick:function(){return t(!1)}},a.a.createElement(i.b,{to:"/"},a.a.createElement(s.f,null,a.a.createElement("span",{role:"img"},"\u2709\ufe0f"),"Home")),a.a.createElement(s.c,null),a.a.createElement(i.b,{to:"/twoods"},a.a.createElement(s.f,null,a.a.createElement("span",{role:"img"},"\u2709\ufe0f"),"Twoods")),a.a.createElement(i.b,{to:"/users"},a.a.createElement(s.f,null,a.a.createElement("span",{role:"img"},"\ud83d\udc68\u200d\ud83d\udcbb"),"Users")),a.a.createElement(i.b,{to:"/rooms"},a.a.createElement(s.f,null,a.a.createElement("span",{role:"img"},"\ud83d\udcc1"),"Rooms")))},P=function(e){var t=e.setOpen,n=Object(u.b)(),r=function(){n(function(){var e=Object(E.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.localStorage.removeItem("id"),window.localStorage.removeItem("token"),t(w("Successfully logged out",5)),t({type:"RESET_SESSION"});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())};return a.a.createElement(s.e,{style:{position:"absolute",right:"0",top:"100%",zIndex:13},onClick:function(){return t(!1)}},a.a.createElement(i.b,{to:"/user"},a.a.createElement(s.f,null,a.a.createElement("span",{role:"img"},"\ud83d\udc68\u200d\ud83d\udcbb"),"Profile")),a.a.createElement(s.c,null),a.a.createElement(i.b,{to:"/newtwood"},a.a.createElement(s.f,null,a.a.createElement("span",{role:"img"},"\ud83d\udcc1"),"Create Twood")),a.a.createElement(i.b,{to:"/newroom"},a.a.createElement(s.f,null,a.a.createElement("span",{role:"img"},"\ud83d\udcc1"),"Create Room")),a.a.createElement(s.c,null),a.a.createElement(s.f,{onClick:function(){return r()}},a.a.createElement("span",{role:"img","aria-label":"\ud83d\udd19"},"\ud83d\udd19"),"Sign Out"))},L=function(){var e=Object(u.c)((function(e){return e.session.user})),t=Object(u.b)(),n=Object(r.useState)(!1),c=Object(y.a)(n,2),o=c[0],l=c[1],p=Object(r.useState)(!1),f=Object(y.a)(p,2),d=f[0],m=f[1];return a.a.createElement(s.a,{style:{position:"relative",zIndex:12}},a.a.createElement(s.o,{style:{justifyContent:"space-between"}},a.a.createElement("div",{style:{position:"relative",display:"inline-block"}},a.a.createElement(s.b,{onClick:function(){return o||t({type:"RESET_CURRENT_WINDOW"}),void l(!o)},active:o,style:{fontWeight:"bold"}},a.a.createElement("img",{alt:"logo",style:{height:"20px",marginRight:4}}),"Twooder"),o&&a.a.createElement(z,{setOpen:l})),e?a.a.createElement("div",{style:{position:"relative",display:"inline-block"}},a.a.createElement(s.b,{onClick:function(){return d||t({type:"RESET_CURRENT_WINDOW"}),void m(!o)},active:d,style:{fontWeight:"bold"}},e.username),d&&a.a.createElement(P,{setOpen:m})):a.a.createElement(i.b,{to:"/signin"},a.a.createElement("div",{style:{position:"relative",display:"inline-block"}},a.a.createElement(s.b,{style:{fontWeight:"bold"}},"Sign In")))))},Y=function(){return a.a.createElement("div",{style:{position:"fixed",bottom:"0",left:"0",width:"100%",zIndex:1e3}},a.a.createElement(s.g,{variant:"outside",shadow:!0,style:{padding:"1rem",lineHeight:"1.5",width:"100%"}}))},M=n(9),K=function(){var e=Object(u.b)();return Object(r.useEffect)((function(){e(A("signup"))}),[]),null},q=function(){var e=Object(u.b)();return Object(r.useEffect)((function(){e(A("signin"))}),[]),null},H=function(){var e=Object(u.c)((function(e){return e.session})).user,t=Object(u.b)();return Object(r.useEffect)((function(){t(A("ownuser",e))}),[]),null},J=function(){return a.a.createElement("div",null)},V=function(){var e=Object(M.h)().id,t=Object(u.b)(),n=function(){var n=Object(E.a)(b.a.mark((function n(){var r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_.getById(e);case 3:r=n.sent,t(A("user",r)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),t(h("Error fetching user",5));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){n()}),[e]),null},X=function(){var e=Object(u.b)(),t=function(){var t=Object(E.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,_.getAll();case 3:n=t.sent,e(A("users",n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e(h("Error fetching users",5));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){t()}),[]),null},Z=S+"api/twoods/",G={getAll:function(){var e=Object(E.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I("api/twoods/","Fetching twoods"),e.next=4,x.a.get(Z);case 4:return t=e.sent,I("api/twoods/","Twoods fetched",t),e.abrupt("return",t.data);case 9:throw e.prev=9,e.t0=e.catch(0),T("api/twoods/",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(E.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I("api/twoods/","Creating twood",t),e.next=4,x.a.post(Z,t,{headers:{Authorization:"Bearer "+n}});case 4:return r=e.sent,I("api/twoods/","Twood created",r),e.abrupt("return",r.data);case 9:throw e.prev=9,e.t0=e.catch(0),T("api/twoods/",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),getById:function(){var e=Object(E.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I("api/twoods/","Fetching twood",t),e.next=4,x.a.get(Z+t);case 4:return n=e.sent,I("api/twoods/","Twood fetched",n),e.abrupt("return",n.data);case 9:throw e.prev=9,e.t0=e.catch(0),T("api/twoods/",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),getByUser:function(){var e=Object(E.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I("api/twoods/","Fetching twoods",t),e.next=4,x.a.get(Z+"user/"+t);case 4:return n=e.sent,I("api/twoods/","Twoods fetched",n),e.abrupt("return",n.data);case 9:throw e.prev=9,e.t0=e.catch(0),T("api/twoods/",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(E.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I("api/twoods/","Deleting twood",t),e.next=4,x.a.delete(Z+t,{headers:{Authorization:"Bearer "+n}});case 4:return r=e.sent,I("api/twoods/","Twood deleted",r),e.abrupt("return",r.data);case 9:throw e.prev=9,e.t0=e.catch(0),T("api/twoods/",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),update:function(){var e=Object(E.a)(b.a.mark((function e(t,n,r){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=Object(j.a)(Object(j.a)({},n),{},{user:n.user.id?n.user.id:n.user}),I("api/twoods/","Updating twood",t,a),e.next=5,x.a.put("".concat(Z).concat(t),a,{headers:{Authorization:"Bearer "+r}});case 5:return c=e.sent,I("api/twoods/","Twood updated",c),e.abrupt("return",c.data);case 10:throw e.prev=10,e.t0=e.catch(0),T("api/twoods/",e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),like:function(){var e=Object(E.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I("api/twoods/","Liking twood",t),e.next=4,x.a.post("".concat(Z).concat(t,"/like"),null,{headers:{Authorization:"Bearer "+n}});case 4:return r=e.sent,I("api/twoods/","Twood successfully liked",t,r),e.abrupt("return",r.data);case 9:throw e.prev=9,e.t0=e.catch(0),T("api/twoods/",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}(),reply:function(){var e=Object(E.a)(b.a.mark((function e(t,n,r){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I("api/twoods/","Replying to twood",t,n),e.next=4,x.a.post("".concat(Z).concat(t,"/reply"),n,{headers:{Authorization:"Bearer "+r}});case 4:return a=e.sent,I("api/twoods/","Twood replied to",t,a),e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(0),T("api/twoods/",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r){return e.apply(this,arguments)}}()},Q=function(){var e=Object(M.h)().id,t=Object(u.b)(),n=function(){var n=Object(E.a)(b.a.mark((function n(){var r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,G.getById(e);case 3:r=n.sent,t(A("twood",r)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),t(h("Error fetching twood",5));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){n()}),[e]),null},$=function(){var e=Object(u.b)(),t=function(){var t=Object(E.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G.getAll();case 3:n=t.sent,e(A("twoods",n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e(h("Error fetching twoods",5));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){t()}),[]),null},ee=function(){var e=Object(u.b)();return Object(r.useEffect)((function(){e(A("newtwood"))}),[]),null},te=S+"api/rooms/",ne={getAll:function(){var e=Object(E.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I("api/rooms/","Fetching rooms"),e.next=4,x.a.get(te);case 4:return t=e.sent,I("api/rooms/","Rooms fetched",t),e.abrupt("return",t.data);case 9:throw e.prev=9,e.t0=e.catch(0),T("api/rooms/",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(E.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I("api/rooms/","Creating room",t),e.next=4,x.a.post(te,t);case 4:return n=e.sent,I("api/rooms/","Room created",n),e.abrupt("return",n.data);case 9:throw e.prev=9,e.t0=e.catch(0),T("api/rooms/",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),getById:function(){var e=Object(E.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I("api/rooms/","Fetching room",t),e.next=4,x.a.get(te+t);case 4:return n=e.sent,I("api/rooms/","Room fetched",n),e.abrupt("return",n.data);case 9:throw e.prev=9,e.t0=e.catch(0),T("api/rooms/",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),remove:function(){var e=Object(E.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I("api/rooms/","Deleting room",t),e.next=4,x.a.delete(te+t);case 4:return n=e.sent,I("api/rooms/","Room deleted",n),e.abrupt("return",n.data);case 9:throw e.prev=9,e.t0=e.catch(0),T("api/rooms/",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(E.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,I("api/rooms/","Updating room",t,n),e.next=4,x.a.put("".concat(te).concat(t),n);case 4:return r=e.sent,I("api/rooms/","Room updated",r),e.abrupt("return",r.data);case 9:throw e.prev=9,e.t0=e.catch(0),T("api/rooms/",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()},re=function(){var e=Object(M.h)().id,t=Object(u.b)(),n=function(){var n=Object(E.a)(b.a.mark((function n(){var r;return b.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ne.getById(e);case 3:r=n.sent,t(A("room",r)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),t(h("Error fetching room",5));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}();return Object(r.useEffect)((function(){n()}),[]),null},ae=function(){var e=Object(u.b)(),t=function(){var t=Object(E.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ne.getAll();case 3:n=t.sent,e(A("rooms",n)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e(h("Error fetching rooms",5));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){t()}),[]),null},ce=function(){var e=Object(u.b)();return Object(r.useEffect)((function(){e(A("newroom"))}),[]),null},oe=function(){var e=Object(u.c)((function(e){return e.session})),t=e.user,n=e.storageChecked;return a.a.createElement(M.d,null,a.a.createElement(M.b,{path:"/signin"},t?n?a.a.createElement(M.a,{to:"/"}):a.a.createElement("div",null):a.a.createElement(q,null)),a.a.createElement(M.b,{path:"/signup"},t?n?a.a.createElement(M.a,{to:"/"}):a.a.createElement("div",null):a.a.createElement(K,null)),a.a.createElement(M.b,{path:"/twoods/:id"},a.a.createElement(Q,null)),a.a.createElement(M.b,{path:"/twoods"},a.a.createElement($,null)),a.a.createElement(M.b,{path:"/rooms/:id"},a.a.createElement(re,null)),a.a.createElement(M.b,{path:"/rooms"},a.a.createElement(ae,null)),a.a.createElement(M.b,{path:"/users/:id"},a.a.createElement(V,null)),a.a.createElement(M.b,{path:"/users/"},a.a.createElement(X,null)),a.a.createElement(M.b,{path:"/user/"},t?a.a.createElement(H,null):n?a.a.createElement(M.a,{to:"/signin"}):a.a.createElement("div",null)),a.a.createElement(M.b,{path:"/newtwood/"},t?a.a.createElement(ee,null):n?a.a.createElement(M.a,{to:"/signin"}):a.a.createElement("div",null)),a.a.createElement(M.b,{path:"/newroom"},t?a.a.createElement(ce,null):n?a.a.createElement(M.a,{to:"/signin"}):a.a.createElement("div",null)),a.a.createElement(M.b,{path:"/"},a.a.createElement(J,null)))},ue=n(47),ie=n.n(ue),se=n(48),le=n.n(se),pe=n(49),fe=n.n(pe);function de(){var e=Object(l.a)(["\n  ","\n  @font-face {\n    font-family: 'ms_sans_serif';\n    src: url('","') format('woff2');\n    font-weight: 400;\n    font-style: normal\n  }\n  @font-face {\n    font-family: 'ms_sans_serif';\n    src: url('","') format('woff2');\n    font-weight: bold;\n    font-style: normal\n  }\n  body {\n    font-family: 'ms_sans_serif';\n    background-color: #1abc9c;\n  }\n  * {\n    scrollbar-width: none\n  }\n"]);return de=function(){return e},e}var me=Object(p.b)(de(),s.s,le.a,fe.a),ve=function(e){return a.a.createElement("div",null,a.a.createElement(me,null),a.a.createElement(p.a,{theme:ie.a},e.children))},be=n(50),Ee=n.n(be),we=function(e){var t=Object(u.c)((function(e){return e.windows.current})),n=Object(u.b)(),r=Object(M.g)();return a.a.createElement(Ee.a,{onMouseDown:function(){n({type:"SET_CURRENT_WINDOW",data:e.id})}},a.a.createElement("div",{style:{display:"flex",justifyContent:"center",position:"absolute",zIndex:t===e.id?15:11}},a.a.createElement(s.p,{className:"window"},a.a.createElement(s.r,{className:"window-header"},e.title,a.a.createElement(m,{onClose:function(){n(W(e.id)),r.push("/")}})),a.a.createElement(s.q,null,e.children))))},he=function(e){var t=Object(r.useState)(""),n=Object(y.a)(t,2),a=n[0],c=n[1];return{input:{type:e,value:a,onChange:function(e){c(e.target.value)}},clear:function(){c("")}}},Oe=function(e,t){var n=Object(r.useState)(null),a=Object(y.a)(n,2),c=a[0],o=a[1],i=Object(u.b)(),s=Object(u.c)((function(e){return e.session})),l=s.user,p=s.token,f=he("text");Object(r.useEffect)((function(){e?d():o(t)}),[e,t]);var d=function(){var t=Object(E.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,G.getById(e);case 2:n=t.sent,o(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(){var e=Object(E.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.like(c.id,p);case 3:o(Object(j.a)(Object(j.a)({},c),{},{likes:c.likes+1})),i(w("Twood successfully liked",5)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i(h("Error liking twood",5));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(E.a)(b.a.mark((function e(t,n){var r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,r={content:t},e.next=5,G.reply(c.id,r,p);case 5:a=e.sent,o(Object(j.a)(Object(j.a)({},c),{},{replies:c.replies.concat(a)})),f.clear(),i(w("Twood successfully replied to",5)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),i(h("Error replying to twood",5));case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n){return e.apply(this,arguments)}}(),O=function(){var e=Object(E.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.remove(c.id,p);case 3:o(null),i(w("Twood successfully deleted",5)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i(h("Error deleting twood",5));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),g={like:l?m:null,reply:l?v:null,remove:l&&c&&l.id===c.user.id?O:null};return{twood:c,operations:g,replyField:f}},ge={twoods:["content","likes"],users:["username"],rooms:["name"]},ye=function(e){var t=e.initialState,n=e.type,c=Object(M.g)(),o=function(e){var t=Object(r.useState)(0),n=Object(y.a)(t,2),a=n[0],c=n[1],o=Object(r.useState)([]),u=Object(y.a)(o,2),i=u[0],s=u[1],l=Object(r.useState)(10),p=Object(y.a)(l,2),f=p[0],d=(p[1],Object(r.useState)(!1)),m=Object(y.a)(d,2),v=m[0],b=m[1],E=function(e){for(var t=Math.ceil(e.length/f),n=[],r=0,a=0;a<t;a++){n[a]=[];for(var c=0;c<f&&(n[a][c]=e[r],++r!==e.length);c++);}s(n)};Object(r.useEffect)((function(){e[0]&&E(e)}),[e]);var w={next:a!=i.length-1?function(){c(a+1)}:null,prev:a>0?function(){c(a-1)}:null,sort:function(t){b(!v),E(e.sort((function(e,n){return v?e[t]>n[t]:e[t]<n[t]})))}};return{current:i[0]?i[a]:[],operations:w}}(t),u=o.current,i=o.operations,l=i.next,p=i.prev,f=i.sort,d=ge[n];return u[0]?a.a.createElement("div",null,a.a.createElement(s.h,null,a.a.createElement(s.k,null,a.a.createElement(s.m,{head:!0},d.map((function(e){return a.a.createElement(s.l,{onClick:function(){return f(e)},key:e},e)})))),a.a.createElement(s.i,null,u.map((function(e){return a.a.createElement(s.m,{key:e.id,onClick:function(){return c.push("/".concat(n,"/").concat(e.id))}},d.map((function(t){return a.a.createElement(s.j,{key:t},e[t])})))})))),a.a.createElement(s.b,{disabled:!p,onClick:function(){return p()}},"Prev Page"),a.a.createElement(s.b,{disabled:!l,onClick:function(){return l()}},"Next Page")):null},je=function(e){var t=e.user;return t?t?a.a.createElement("div",null,a.a.createElement("p",null,"username: ",t.username," "),a.a.createElement("p",null,"id: ",t.id," "),a.a.createElement(ye,{initialState:t.twoods,type:"twoods"})):void 0:null},ke=function(e){var t=e.initialState,n=e.id;return a.a.createElement(we,{title:"Users",id:n},a.a.createElement(ye,{initialState:t,type:"users"}))},xe=function(e){var t=e.id,n=e.initialState,r=Oe(t,n),c=r.twood,o=r.operations;if(!c)return null;var u=c.user;o.like;return a.a.createElement(s.d,{label:u.username},a.a.createElement(i.b,{to:"/twoods/".concat(c.id)},c.content,a.a.createElement("p",null,"LIKES: ",c.likes)))},Se=function(e){var t=e.id,n=e.initialState,r=Oe(t,n),c=r.twood,o=r.operations,u=r.replyField;if(!c)return null;var i=o.like,l=o.reply,p=o.remove,f=c.user;return a.a.createElement("div",null,a.a.createElement(s.d,{label:f.username},c.content,a.a.createElement("p",null,"LIKES: ",c.likes)),l?a.a.createElement("form",null,a.a.createElement(s.n,u.input),a.a.createElement(s.b,{size:"sm",onClick:function(e){o.reply(u.input.value,e)}},"REPLY")):null,i?a.a.createElement(s.b,{size:"sm",onClick:function(){return i()}},"LIKE"):null,p?a.a.createElement(s.b,{size:"sm",onClick:function(){return p()}},"REMOVE"):null,a.a.createElement(s.c,null),c.replies.map((function(e){return a.a.createElement(xe,{key:e.id,id:e.id})})))},Ie=function(e){var t=e.room;return t?a.a.createElement("div",null,a.a.createElement("p",null,"name: ",t.name," "),a.a.createElement("p",null,"id: ",t.id," "),a.a.createElement(ye,{initialState:t.twoods,type:"twoods"})):null},Te={signin:function(e){e.initialState;var t=e.id,n=Object(M.g)(),r=he("text"),c=he("text"),o=Object(u.b)();return a.a.createElement(we,{title:"Sign In",id:t},a.a.createElement("form",null,"User Name: ",a.a.createElement(s.n,r.input),"Password: ",a.a.createElement(s.n,c.input),a.a.createElement(s.b,{styles:{float:"right"},id:"signin-button",type:"submit",primary:!0,onClick:function(e){e.preventDefault();var n=r.input.value,a=c.input.value;o(function(e,t,n){return function(){var r=Object(E.a)(b.a.mark((function r(a){var c,o;return b.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c={username:e,password:t},r.prev=1,r.next=4,C.auth(c);case 4:o=r.sent,window.localStorage.setItem("id",o.user.id),window.localStorage.setItem("token",o.token),a({type:"INIT_SESSION",data:o}),a(W(n)),a(w("Successfully logged in",5)),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(1),a(h("Failed to log in, password or username incorrect",5));case 15:case"end":return r.stop()}}),r,null,[[1,12]])})));return function(e){return r.apply(this,arguments)}}()}(n,a,t)),r.clear(),c.clear()}},"Sign In")),"not a twooder user?",a.a.createElement(s.b,{id:"redirect-sign-up-button",type:"submit",onClick:function(){return o(W(t)),void n.push("/signup/")}},"Sign Up!"))},signup:function(e){e.initialState;var t=e.id,n=he("text"),r=he("text"),c=Object(u.b)(),o=function(){var e=Object(E.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={username:n.input.value,password:r.input.value},e.prev=2,e.next=5,_.create(a);case 5:c(w("Successfully created user",5)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),c(h("Failed to create user",5));case 11:n.clear(),r.clear();case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(we,{title:"Sign Up",id:t},a.a.createElement("form",null,"User Name: ",a.a.createElement(s.n,n.input),"Password: ",a.a.createElement(s.n,r.input),a.a.createElement(s.b,{id:"signin-button",type:"submit",onClick:o},"Sign Up")))},twood:function(e){var t=e.initialState,n=e.id;return a.a.createElement(we,{title:"Twood",id:n},a.a.createElement(Se,{initialState:t}))},twoods:function(e){var t=e.initialState,n=e.id;return a.a.createElement(we,{title:"Twoods",id:n},a.a.createElement(ye,{initialState:t,type:"twoods"}))},newtwood:function(e){e.initialState;var t=e.id,n=Object(u.c)((function(e){return e.session.token})),r=Object(M.g)(),c=Object(u.b)(),o=he("text"),i=he("text"),l=function(){var e=Object(E.a)(b.a.mark((function e(t){var a,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={title:o.input.value,content:i.input.value},e.prev=2,e.next=5,G.create(a,n);case 5:u=e.sent,c(w("Twood successfully created",5)),r.push("twoods/".concat(u.id)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),c(h("Error creating twood",5));case 13:i.clear();case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(we,{title:"New Twood",id:t},a.a.createElement("form",null,"content:",a.a.createElement(s.n,Object.assign({multiline:!0},i.input)),a.a.createElement(s.b,{id:"twood-button",type:"submit",onClick:l},"Twood")))},room:function(e){var t=e.initialState,n=e.id;return a.a.createElement(we,{title:"Room",id:n},a.a.createElement(Ie,{room:t}))},rooms:function(e){var t=e.initialState,n=e.id;return a.a.createElement(we,{title:"Rooms",id:n},a.a.createElement(ye,{initialState:t,type:"rooms"}))},newroom:function(e){e.initialState;var t=e.id,n=he("text"),r=Object(u.c)((function(e){return e.session.token})),c=Object(M.g)(),o=Object(u.b)(),i=function(){var e=Object(E.a)(b.a.mark((function e(t){var a,u;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={name:n.input.value},e.prev=2,e.next=5,ne.create(a,r);case 5:u=e.sent,o(w("Room successfully created",5)),c.push("rooms/".concat(u.id)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),o(h("Error creating Room",5));case 13:n.clear();case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return a.a.createElement(we,{title:"New Room",id:t},a.a.createElement("form",null,"name:",a.a.createElement(s.n,n.input),a.a.createElement(s.b,{type:"submit",onClick:i},"Create")))},user:function(e){var t=e.initialState,n=e.id;return a.a.createElement(we,{title:"User",id:n},a.a.createElement(je,{user:t}))},users:ke,ownuser:function(e){e.initialState;var t=e.id,n=Object(u.c)((function(e){return e.session})).user;return a.a.createElement(we,{title:"Your Profile",id:t},a.a.createElement(je,{user:n}))}};var Ne=function(){var e=Object(u.c)((function(e){return e.windows}));return a.a.createElement("div",{style:{position:"relative"}},e.items.map((function(e){var t=Te[e.type];return a.a.createElement(t,{key:e.id,initialState:e.initialState,id:e.id})})))};var Ce=function(){var e=Object(u.b)();return Object(r.useEffect)((function(){e(function(){var e=Object(E.a)(b.a.mark((function e(t){var n,r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=window.localStorage.getItem("id"),r=window.localStorage.getItem("token"),!n||!r){e.next=17;break}return e.prev=3,e.next=6,_.getById(n);case 6:a=e.sent,t({type:"INIT_SESSION",data:{user:a,token:r}}),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(3),window.localStorage.removeItem("id"),window.localStorage.removeItem("token"),t({type:"RESET_SESSION"});case 15:e.next=18;break;case 17:t({type:"RESET_SESSION"});case 18:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}())}),[]),a.a.createElement(ve,null,a.a.createElement(L,null),a.a.createElement(g,null),a.a.createElement(oe,null),a.a.createElement(Ne,null),a.a.createElement(Y,null))},Re=n(21),_e=n(51),De=n(52),Ae=Object(Re.combineReducers)({notification:O,session:B,windows:U}),We=Object(Re.createStore)(Ae,Object(_e.composeWithDevTools)(Object(Re.applyMiddleware)(De.a)));o.a.render(a.a.createElement(u.a,{store:We},a.a.createElement(i.a,null,a.a.createElement(Ce,null))),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.eb14aa84.chunk.js.map